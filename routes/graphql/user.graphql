type User {
	id: ID!
	firstName: String! @rename(attribute: "first_name")
	lastName: String! @rename(attribute: "last_name")
	email: String!
	status: String!
	createdAt: String! @rename(attribute: "created_at")
	updatedAt: String @rename(attribute: "updated_at")
	stripeId: String @rename(attribute: "stripe_id")
	cardBrand: String @rename(attribute: "card_brand")
	cardLastFour: String @rename(attribute: "card_last_four")
	trialEndsAt: String @rename(attribute: "trial_ends_at")
	profile: UserProfile @hasOne
	tokens: [UserTwoFactorToken] @hasMany
	favourites: [UserFavourite] @hasMany
	subscriptions: [Subscription] @hasMany
	projects: [Project] @hasMany
	persons: [Person] @hasMany
	files: [File] @hasMany
	songs: [Song] @hasMany
}

type UserProfile {
	id: ID!
	user: User! @belongsTo
	studioType: String! @rename(attribute: "studio_type")
	label: String!
	jobRole: String! @rename(attribute: "job_role")
	genre: String!
	workload: Int!
}

type UserTwoFactorToken {
	id: ID!
	user: User! @belongsTo
	token: String!
	expiresAt: String! @rename(attribute: "expires_at")
}

type UserFavourite {
	id: ID!
	user: User! @belongsTo
	resourceId: Int! @rename(attribute: "resource_id")
	resourceType: String! @rename(attribute: "resource_type")
	createdAt: String! @rename(attribute: "created_at")
	updatedAt: String @rename(attribute: "updated_at")
}

type Subscription {
	id: ID!
	user: User! @belongsTo
	name: String!
	stripeId: String! @rename(attribute: "stripe_id")
	stripePlan: String! @rename(attribute: "stripe_plan")
	quantity: Int!
	trialEndsAt: String @rename(attribute: "trial_ends_at")
	endsAt: String @rename(attribute: "ends_at")
	createdAt: String! @rename(attribute: "created_at")
	updatedAt: String @rename(attribute: "updated_at")
}

type Person {
	id: ID!
	user: User @belongsTo
	name: String!
	email: String
	createdAt: String! @rename(attribute: "created_at")
	updatedAt: String @rename(attribute: "updated_at")
	sessions: [Session] @belongsToMany
	meta: PersonSession @rename(attribute: "pivot")
}

type PersonRole {
	id: ID!
	name: String!
}

type Instrument {
	id: ID!
	category: String
	name: String
}

type PersonSession {
	person: Person @belongsTo
	session: Session @belongsTo
	role: PersonRole @belongsTo
	instrument: Instrument @belongsTo
}

type Song {
	id: ID!
	user: User! @belongsTo
	iswc: String
	type: String!
	title: String!
	subtitle: String
	genre: String
	artist: String
	createdAt: String! @rename(attribute: "created_at")
	updatedAt: String @rename(attribute: "updated_at")
}
